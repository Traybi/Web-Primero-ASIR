<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Formulario de Tienda</title>
</head> 
<body>
    <link rel="stylesheet" href="formulariocompraCSS.css">
    <button id="btn-top" onclick="window.scrollTo(0, 0)">⬆</button>
    <div class="contenedor">
        <h1 class="fuente1">Formulario Para Comprar</h1>
        <div class="enlacescentro">
            <a href="inicioweb.html">Inicio</a>
            <a href="productosweb.html">Productos</a>
            <a href="formulariocontacto.html" target="_blank">Contacto</a>
        </div>
    </div>
    <form id="formulario-compra" onsubmit="return validarFormulario()">
        <fieldset>
            <legend>Datos Personales</legend>
            <label for="nombre">Nombre </label>
            <input type="text" id="nombre" name="nombre" placeholder="Introduce tu nombre">
            <p class="error-message" id="error-nombre">El nombre es obligatorio.</p>

            <label for="apellido">Apellido </label>
            <input type="text" id="apellido" name="apellido" placeholder="Introduce tu apellido">
            <p class="error-message" id="error-apellido">El apellido es obligatorio.</p>

            <label for="correo">Correo Electrónico </label>
            <input type="email" id="correo" name="correo" placeholder="ejemplo@correo.com">
            <p class="error-message" id="error-correo">Debe ingresar un email válido.</p>

            <label for="telefono">Teléfono </label>
            <input value="+34 " type="tel" id="telefono" name="telefono" placeholder="Introduce tu número de teléfono">
            <p class="error-message" id="error-telefono">Debe ingresar un teléfono válido.</p>
        </fieldset>
        <fieldset>
            <legend>Información del Pedido</legend>
            <label for="producto">Selecciona el Producto </label>
            <select id="producto" name="producto">
                <option value="">Selecciona una opción</option>
                <option value="camiseta" data-precio="19.99">Camiseta - 19.99€</option>
                <option value="pantalon" data-precio="39.99">Pantalón - 39.99€</option>
                <option value="zapatos" data-precio="49.99">Zapatos - 49.99€</option>
                <option value="accesorios" data-precio="14.99">Accesorios - 14.99€</option>
            </select>
            <p class="error-message" id="error-producto">Debe seleccionar un producto.</p>

            <label for="cantidad">Cantidad </label>
            <input type="number" id="cantidad" name="cantidad" min="1" placeholder="Cantidad">
            <p class="error-message" id="error-cantidad">Debe ingresar una cantidad válida.</p>

            <label>Método de Pago</label>
            <label><input type="radio" name="metodo-pago" value="tarjeta"> Tarjeta de Crédito</label>
            <label><input type="radio" name="metodo-pago" value="paypal"> PayPal</label>
            <label><input type="radio" name="metodo-pago" value="efectivo"> Efectivo</label>
            <p class="error-message" id="error-metodo-pago">Debe seleccionar un método de pago.</p>
            </div>

            <label>¿Quieres personalizar el producto? (Opcional)</label>
            <input type="text" id="personalizacion" name="personalizacion" placeholder="Escribe detalles opcionales">
        </fieldset>
        <fieldset>
            <label for="comentarios">Comentarios Adicionales</label>
            <textarea id="comentarios" name="comentarios" rows="5" placeholder="Escribe tus comentarios o instrucciones adicionales..."></textarea>

            <div>
                <input type="checkbox" id="terminos" name="terminos">
                <label for="terminos">Acepto los Términos y Condiciones</label>
                <p class="error-message" id="error-terminos">Debe aceptar los términos.</p>
            </div>
        </fieldset>
        <div>
            <button type="submit">Enviar Pedido</button>
            <button type="reset">Restablecer</button>
        </div>
    </form>
        <script>
            window.onscroll = function() {
            var btn = document.getElementById("btn-top");
            if (window.pageYOffset > 300) {
                btn.style.display = "block";
            } else {
                btn.style.display = "none";
            }
        };
        function validarFormulario() {
            let errores = [];
            let campos = ["nombre", "apellido", "correo", "telefono", "producto", "cantidad"];
            let metodosPago = document.getElementsByName("metodo-pago");
            let terminos = document.getElementById("terminos");

            campos.forEach(id => {
                let campo = document.getElementById(id);
                let errorMensaje = document.getElementById("error-" + id);
                if (!campo.value.trim()) {
                    errores.push(id + " es obligatorio.");
                    campo.classList.add("error");
                    errorMensaje.style.display = "block";
                } else {
                    campo.classList.remove("error");
                    errorMensaje.style.display = "none";
                }
            });
            let metodoPagoSeleccionado = false;
            metodosPago.forEach(radio => {
                if (radio.checked) metodoPagoSeleccionado = true;
            });
            if (!metodoPagoSeleccionado) {
                errores.push("Debe seleccionar un método de pago.");
                document.getElementById("error-metodo-pago").style.display = "block";
            } else {
                document.getElementById("error-metodo-pago").style.display = "none";
            }
            if (!terminos.checked) {
                errores.push("Debe aceptar los términos.");
                document.getElementById("error-terminos").style.display = "block";
            } else {
                document.getElementById("error-terminos").style.display = "none";
            }

            if (errores.length > 0) {
                alert("Errores detectados:\n" + errores.join("\n"));
                return false;
            }

            alert("¡Pedido enviado correctamente!");
            return true;
        }
        </script>
</body>
</html>